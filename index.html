<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Health Care Center</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background-color: #ffeef8;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
    }

    .navbar {
      background-color: #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .navbar-brand, .nav-link {
      color: #ff4fa3 !important;
      font-weight: bold;
    }

    .hero {
      background-color: #fff;
      padding: 60px 30px;
      text-align: center;
      border-radius: 30px;
      margin: 30px auto;
      max-width: 1100px;
    }

    .hero h1 {
      font-size: 2.8rem;
      font-weight: 700;
      color: #222;
    }

    .hero p {
      font-size: 1.1rem;
      color: #555;
      margin: 15px 0;
    }

    .btn-cta {
      background-color: #ff4fa3;
      color: white;
      border-radius: 30px;
      padding: 12px 25px;
      font-weight: bold;
      border: none;
    }

    .features {
      display: flex;
      justify-content: center;
      gap: 30px;
      flex-wrap: wrap;
      margin-top: 50px;
    }

    .feature-box {
      background-color: #fff0f8;
      padding: 25px;
      border-radius: 20px;
      width: 280px;
      text-align: center;
      box-shadow: 0 8px 15px rgba(0,0,0,0.05);
    }

    .feature-box i {
      font-size: 2.2rem;
      color: #ff4fa3;
      margin-bottom: 10px;
    }

    .feature-box h5 {
      font-weight: 600;
      margin-top: 10px;
    }

    .illustration {
      max-width: 300px;
      margin: auto;
    }

    footer {
      text-align: center;
      margin-top: 60px;
      padding: 20px;
      background: #fff;
      border-top: 2px solid #ffc9dd;
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg">
  <div class="container">
    <a class="navbar-brand" href="#">BeHealthy</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link "href="/">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="/about">About</a></li>
        <li class="nav-item"><a class="nav-link" href="/Service">Service</a></li>
        <li class="nav-item"><a class="nav-link" href="/blog">Blog</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<section class="hero">
  <div class="row align-items-center">
    <div class="col-md-6">
      <h6 style="color:#ff4fa3;">BE HEALTHY</h6>
      <h1>Renew Vitality Is Within Reach</h1>
      <p>Let us help you reclaim your health and feel energized again. Our system uses AI to guide your next health move.</p>
    </div>
    <div class="col-md-6">
      <img class="img-fluid illustration" src=https://www.pinclipart.com/picdir/big/333-3337767_health-clipart-transparent.png alt="Doctor Illustration"/>
    </div>
  </div>
</section>
<!-- Form Section -->
<section class="container my-5">
  <div class="bg-white p-5 rounded-4 shadow-sm" style="max-width: 650px; margin: auto;">
    <h2 class="text-center mb-4" style="color: #ff4fa3;">ü©∫ Health Suggestions</h2>
    <form action="/predict" method="post">
      <!-- Symptoms Input -->
      <div class="mb-4 position-relative">
        <label for="symptoms" class="form-label fw-semibold">Enter Your Symptoms</label>
        <input type="text" class="form-control form-control-lg rounded-pill px-4" id="symptoms" name="symptoms" placeholder="e.g., fever, cough, fatigue..." style="border: 2px solid #ffcce6;">
        <div id="suggestions" class="list-group position-absolute w-100"></div>
      </div>

      <!-- Voice Button -->
      <div class="mb-3 text-center">
        <button type="button" id="startSpeechRecognition" class="btn btn-outline-primary rounded-pill px-4 py-2" style="border-color: #ff4fa3; color: #ff4fa3;">
          üé§ Voice Input
        </button>
        <div id="transcription" class="mt-2 text-muted"></div>
      </div>

      <!-- Predict Button -->
      <div class="text-center">
        <button type="submit" class="btn btn-cta">üîç Get Suggestions</button>
      </div>

      {% if message %}
        <p class="text-danger mt-3 text-center">{{ message }}</p>
      {% endif %}
    </form>
  </div>
</section>
  {% if predicted_disease %}
<!-- Result Buttons -->
<section class="container text-center mt-5">
  <h2 class="mb-4 fw-bold" style="color: #ff4fa3;">üß† AI Diagnosis Results</h2>
  <div class="d-flex flex-wrap justify-content-center gap-3">
    </button>
    <button class="btn rounded-pill px-4 py-2" style="background-color: #ffe29c; color: #996c00;" data-bs-toggle="modal" data-bs-target="#precautionModal">
      üõ°Ô∏è Precaution
    </button>
    <button class="btn rounded-pill px-4 py-2" style="background-color: #fab1a0; color: #6b1c00;" data-bs-toggle="modal" data-bs-target="#medicationsModal">
      üíä Medications
    </button>
    <button class="btn rounded-pill px-4 py-2" style="background-color: #a0e7e5; color: #005c5c;" data-bs-toggle="modal" data-bs-target="#workoutsModal">
      üèÉ‚Äç‚ôÇÔ∏è Workouts
    </button>
    <button class="btn rounded-pill px-4 py-2" style="background-color: #d0bdf4; color: #4b0082;" data-bs-toggle="modal" data-bs-target="#dietsModal">
      ü•ó Diets
    </button>
  </div>
</section>
{% endif %}
<!-- Features -->
<section class="features container">
  <div class="feature-box">
    <i class="bi bi-calendar-heart"></i>
    <h5>Healthy Living</h5>
    <p>Maintain a balanced diet, exercise regularly, and get enough sleep to stay healthy every day.</p>
  </div>
  <div class="feature-box">
    <i class="bi bi-capsule"></i>
    <h5>Personalized Treatment</h5>
    <p>Get treatments based on AI diagnosis and medical best practices.</p>
  </div>
  <div class="feature-box">
    <i class="bi bi-emoji-smile"></i>
    <h5>Regain Confidence</h5>
    <p>Feel renewed energy and happiness with our lifestyle suggestions.</p>
  </div>
</section>

<footer>
  &copy; 2025 BeHealthy | All rights reserved
</footer>

<!-- Bootstrap Icons and JS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

<!-- Precaution Modal -->
<div class="modal fade" id="precautionModal" tabindex="-1" aria-labelledby="precautionModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header" style="background-color: #d63384; color: white;">
        <h5 class="modal-title" id="precautionModalLabel">Precautions</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <ul style="list-style-type: disc; padding-left: 20px;">
          {% for item in my_precautions %}
            <li>{{ item }}</li>
          {% endfor %}
        </ul>
      </div>

    </div>
  </div>
</div>

<!-- Medications Modal -->
<div class="modal fade" id="medicationsModal" tabindex="-1" aria-labelledby="medicationsModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header" style="background-color: #dc3545; color: white;">
        <h5 class="modal-title" id="medicationsModalLabel">Medications</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <ul style="list-style-type: disc; padding-left: 20px;">
          {% for i in medications %}
            <li>{{ i }}</li>
          {% endfor %}
        </ul>
      </div>

    </div>
  </div>
</div>


<!-- Workouts Modal -->
<div class="modal fade" id="workoutsModal" tabindex="-1" aria-labelledby="workoutsModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header" style="background-color: #020606; color: white;">
        <h5 class="modal-title" id="workoutsModalLabel">Workouts</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <ul style="list-style-type: disc; padding-left: 20px;">
          {% for i in workout %}
            <li>{{ i }}</li>
          {% endfor %}
        </ul>
      </div>

    </div>
  </div>
</div>


<!-- Diets Modal -->
<div class="modal fade" id="dietsModal" tabindex="-1" aria-labelledby="dietsModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header" style="background-color: #ffc107; color:black;">
        <h5 class="modal-title" id="dietsModalLabel">Recommended Diet</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <ul style="list-style-type: disc; padding-left: 20px;">
          {% for i in my_diet %}
            <li>{{ i }}</li>
          {% endfor %}
        </ul>
      </div>

    </div>
  </div>
</div>


<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  const startSpeechRecognitionButton = document.getElementById('startSpeechRecognition');
  const transcriptionDiv = document.getElementById('transcription');
  const symptomsInput = document.getElementById('symptoms');

  startSpeechRecognitionButton.addEventListener('click', () => {
    const recognition = new webkitSpeechRecognition();
    recognition.lang = 'en-US';

    recognition.onstart = function () {
      transcriptionDiv.innerHTML = `<div class="alert alert-info py-1 px-2" role="alert" style="font-size: 0.9rem;">üéôÔ∏è Listening...</div>`;
    };

    recognition.onresult = function (event) {
      const result = event.results[0][0].transcript;
      symptomsInput.value = result;
      transcriptionDiv.innerHTML = `<div class="alert alert-success py-1 px-2 mt-2" role="alert" style="font-size: 0.9rem;">‚úÖ You said: <strong>${result}</strong></div>`;
    };

    recognition.onerror = function () {
      transcriptionDiv.innerHTML = `<div class="alert alert-danger py-1 px-2 mt-2" role="alert" style="font-size: 0.9rem;">‚ùå Speech recognition failed. Please try again.</div>`;
    };

    recognition.start();
  });

  $(document).ready(function () {
    $('#symptoms').on('input', function () {
      let query = $(this).val().trim();
      let suggestionsDiv = $('#suggestions');

      if (query.length < 1) {
        suggestionsDiv.hide();
        return;
      }

      $.get('/autocomplete', { q: query }, function (data) {
        suggestionsDiv.empty();

        if (data.length === 0) {
          suggestionsDiv.hide();
          return;
        }

        data.forEach(symptom => {
          let item = $('<a class="list-group-item list-group-item-action bg-light text-dark rounded-2 mb-1 px-3 py-2" style="cursor:pointer;"></a>').text(symptom);
          item.click(function () {
            $('#symptoms').val(symptom);
            suggestionsDiv.hide();
          });
          suggestionsDiv.append(item);
        });

        suggestionsDiv.show();
      });
    });

    $(document).click(function (e) {
      if (!$(e.target).closest('#symptoms, #suggestions').length) {
        $('#suggestions').hide();
      }
    });
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
